<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>MERL Tool</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="styles.css" />
</head>

<body>

  <!-- TOP NAV -->
  <header class="topbar">
    <div class="wrap navline">
      <a class="brandmark" href="index.html">
        <img src="static/images/coat-of-arms.png" alt="MERL logo">
        <div class="title">
          <strong>MERL Tool</strong>
          <span>Monitoring • Evaluation • Reporting • Learning</span>
        </div>
      </a>

      <!-- Mobile nav toggle -->
      <input type="checkbox" id="nav-toggle" class="nav-toggle" aria-label="Toggle navigation">
      <label class="burger" for="nav-toggle" aria-hidden="true"><i></i></label>

      <nav class="navlinks" aria-label="Primary">
        <a href="index.html" class="is-active">Home</a>

        <div class="menu">
          <a class="menu-btn" href="javascript:void(0)" aria-haspopup="true">Counties</a>
          <div class="menu-panel" role="menu" aria-label="Counties menu">
            <a href="vihiga.html" role="menuitem">Vihiga County</a>
            <a href="makueni.html" role="menuitem">Makueni County</a>
          </div>
        </div>

        <a class="btn btn-quiet" href="#projects">Explore Projects</a>
        <a class="btn btn-primary" href="https://merl.agnes.africa/home">Login</a>
      </nav>
    </div>
  </header>

  <!-- HERO -->
  <section class="hero">
    <div class="wrap hero-grid">

      <!-- LEFT -->
      <div class="hero-card hero-message">
        <div class="badge"><span class="dot"></span> Public Delivery Tracking</div>

        <h1>
          Evidence-led insights for <span>county climate investments</span>
        </h1>

        <p>
          MERL is a structured digital system for tracking project progress, effectiveness, and learning.
          It supports transparent reporting, better coordination, and data-driven decision-making across counties.
        </p>

        <div class="hero-actions">
          <a class="btn btn-primary" href="auth.html?next=vihiga.html&county=Vihiga">Open Dashboard</a>
          <a class="btn btn-quiet" href="#resources">Resources</a>
          <a class="btn btn-quiet" href="#contact">Support</a>
        </div>

        <!-- QUICK STATS (still static in this HTML; wire to backend later) -->
        <div class="hero-card stats" style="margin-top:16px;">
          <div class="stats-head">
            <div>
              <h2>Quick Stats</h2>
              <p class="hint">Snapshot overview (sample values)</p>
            </div>
          </div>

          <div class="stats-grid">
            <div class="kpi">
              <p class="label">All Projects</p>
              <p class="value neutral">20</p>
            </div>

            <div class="kpi">
              <p class="label">Ongoing</p>
              <p class="value good">19</p>
            </div>

            <div class="kpi">
              <p class="label">Not Started</p>
              <p class="value warn">0</p>
            </div>

            <div class="kpi">
              <p class="label">Completed</p>
              <p class="value warn">1</p>
            </div>
          </div>
        </div>

      </div>

      <!-- RIGHT -->
      <div class="hero-media">
        <div class="media-frame">
          <img src="static/images/hero-excavator.jpg" alt="County project site">
        </div>

        <div class="hero-card stats">
          <div class="stats-head">
            <div>
              <h2>What you can do here</h2>
              <p class="hint">A clean public entry point to the MERL system</p>
            </div>
          </div>
          <div class="stats-grid">
            <div class="kpi">
              <p class="label">View county dashboards</p>
              <p class="value neutral">Vihiga / Makueni</p>
            </div>
            <div class="kpi">
              <p class="label">Track investments</p>
              <p class="value neutral">By sector & year</p>
            </div>
            <div class="kpi">
              <p class="label">Access resources</p>
              <p class="value neutral">Guides & toolkits</p>
            </div>
            <div class="kpi">
              <p class="label">Request support</p>
              <p class="value neutral">Helpdesk form</p>
            </div>
          </div>
        </div>

      </div>

    </div>
  </section>

  <!-- DASHBOARD PREVIEW (LIGHT SECTION) -->
  <section class="section section-light" id="dashboard">
    <div class="wrap">

      <div class="section-title">
        <div>
          <h2>Public Service Delivery Analytics</h2>
          <p>Near–real-time insights on project performance, sector investments, and service delivery outcomes.</p>
        </div>
      </div>

      <div class="panel">
        <div class="panel-card">
          <div class="panel-head">
            <span class="chip">Dashboard Preview</span>
          </div>
          <div class="panel-body">
            <h3>County dashboards built for clarity</h3>
            <p class="sub">
              Explore project pipelines, sector distribution, and reporting status. Designed for decision-makers,
              technical teams, and public accountability.
            </p>
          </div>
          <div class="panel-actions">
            <a class="btn btn-light" href="auth.html?next=vihiga.html&county=Vihiga">Open Vihiga Dashboard</a>
            <a class="btn btn-outline" href="auth.html?next=makueni.html&county=Makueni">Open Makueni Dashboard</a>
          </div>
        </div>

        <div class="mini-grid">
          <div class="mini">
            <h4>Budget Utilization</h4>
            <div class="big">Coming soon</div>
            <div class="meta">FY 2024/25</div>
          </div>
          <div class="mini">
            <h4>Top Sectors</h4>
            <div class="big">4</div>
            <div class="meta">NCCAP-aligned</div>
          </div>
          <div class="mini">
            <h4>Reporting</h4>
            <div class="big">In progress</div>
            <div class="meta">Quarterly cadence</div>
          </div>
          <div class="mini">
            <h4>Maps & Layers</h4>
            <div class="big">Planned</div>
            <div class="meta">Spatial insights</div>
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- PROJECTS EXPLORER -->
  <section class="section section-light" id="projects">
    <div class="wrap">

      <div class="section-title">
        <div>
          <h2>Climate Investment Projects</h2>
          <p>Browse and filter projects by year, county, and sector.</p>
        </div>
      </div>

      <!-- FILTERS -->
      <form class="filters" id="merl-filter-form">
        <div class="field">
          <label for="f-year">Year</label>
          <select id="f-year" name="year">
            <option value="">All years</option>
            <option value="2024">2024/2025</option>
            <option value="2023">2023/2024</option>
            <option value="2022">2022/2023</option>
          </select>
        </div>

        <div class="field">
          <label for="f-county">County</label>
          <select id="f-county" name="county">
            <option value="">All counties</option>
            <option value="Makueni">Makueni</option>
            <option value="Vihiga">Vihiga</option>
          </select>
        </div>

        <div class="field">
          <label for="f-sector">Sector</label>
          <select id="f-sector" name="sector">
            <option value="">All sectors</option>
            <option value="Water">Water &amp; Sanitation</option>
            <option value="Agriculture">Agriculture</option>
            <option value="Health">Health</option>
            <option value="Infrastructure">Roads &amp; Infrastructure</option>
          </select>
        </div>

        <div class="filter-actions">
          <button type="submit" class="btn btn-light">Filter</button>
          <button type="button" class="btn btn-outline" id="merl-reset">Reset</button>
        </div>
      </form>

      <!-- PROJECT CARDS -->
      <div class="cards-grid" id="merl-projects">
        <article class="card"
                 data-year="2024"
                 data-county="Makueni"
                 data-sector="Water">
          <h3>Kikuu / Kiangini Community Water Project</h3>
          <p>
            Construction and augmentation of a community water supply system to improve
            household access to safe water under climate stress.
          </p>
          <div class="meta">
            <span class="tag">FY 2024/25</span>
            <span class="tag">Makueni</span>
            <span class="tag">Water &amp; Sanitation</span>
          </div>
          <a class="more" href="project-details.html#kikuu-water-project">Read more →</a>
        </article>

        <article class="card"
                 data-year="2024"
                 data-county="Vihiga"
                 data-sector="Water">
          <h3>Kaila Climate-Resilient Water Project</h3>
          <p>
            Rehabilitation and expansion of water infrastructure to support climate-resilient
            livelihoods in Kaila community.
          </p>
          <div class="meta">
            <span class="tag">FY 2024/25</span>
            <span class="tag">Vihiga</span>
            <span class="tag">Water &amp; Sanitation</span>
          </div>
          <a class="more" href="project-details.html#kaila-water-project">Read more →</a>
        </article>

        <article class="card"
                 data-year="2023"
                 data-county="Makueni"
                 data-sector="Agriculture">
          <h3>Climate-Smart Irrigation for Smallholders</h3>
          <p>
            Drip irrigation and on-farm water harvesting for smallholder farmers to
            reduce climate risk and improve yields.
          </p>
          <div class="meta">
            <span class="tag">FY 2023/24</span>
            <span class="tag">Makueni</span>
            <span class="tag">Agriculture</span>
          </div>
          <a class="more" href="project-details.html#climate-smart-irrigation">Read more →</a>
        </article>

        <article class="card"
                 data-year="2022"
                 data-county="Kitui"
                 data-sector="Infrastructure">
          <h3>Rural Access Roads &amp; Flood Control</h3>
          <p>
            Upgrading critical access roads with drainage and flood-protection structures
            to keep markets connected during extreme weather.
          </p>
          <div class="meta">
            <span class="tag">FY 2022/23</span>
            <span class="tag">Kitui</span>
            <span class="tag">Infrastructure</span>
          </div>
          <a class="more" href="project-details.html#rural-access-roads">Read more →</a>
        </article>
      </div>

    </div>
  </section>

  <!-- RESOURCES -->
  <section class="section section-light" id="resources">
    <div class="wrap">
      <div class="section-title">
        <div>
          <h2>Resources &amp; Publications</h2>
          <p>Policy briefs, technical guides, reports, and training materials from the MERL initiative.</p>
        </div>
      </div>

      <div class="resources-grid">
        <a href="#" class="tile">
          <img src="static/images/gallery-2.jpg" alt="MERL Technical Guide cover">
          <span>MERL Technical Guide</span>
        </a>
        <a href="#" class="tile">
          <img src="static/images/gallery-3.jpg" alt="Training Toolkit cover">
          <span>Training Toolkit (ToT)</span>
        </a>
        <a href="#" class="tile">
          <img src="static/images/gallery-4.jpg" alt="Pilot Validation Report cover">
          <span>Pilot Validation Report</span>
        </a>
        <a href="#" class="tile">
          <img src="static/images/gallery-5.jpg" alt="Dashboard User Manual cover">
          <span>Dashboard User Manual</span>
        </a>
        <a href="#" class="tile">
          <img src="static/images/gallery-6.jpg" alt="Climate Indicators Set cover">
          <span>Climate Indicators Set</span>
        </a>
      </div>

      <div style="margin-top:14px;">
        <a class="btn btn-outline" href="#">Browse All Resources</a>
      </div>
    </div>
  </section>

  <!-- CONTACT -->
  <section class="section" id="contact">
    <div class="wrap">
      <div class="section-title">
        <div>
          <h2>MERL Support</h2>
          <p>For technical assistance, dashboard access, or general MERL support, reach us using the form below.</p>
        </div>
      </div>

      <div class="contact-shell">
        <form class="form" action="mailto:e.nimba@agnesafrica.org" method="POST" enctype="text/plain">
          <div class="field">
            <label for="c-name">Name</label>
            <input id="c-name" type="text" name="Name" required>
          </div>

          <div class="field">
            <label for="c-email">Email</label>
            <input id="c-email" type="email" name="Email" required>
          </div>

          <div class="field">
            <label for="c-role">Designation / Role</label>
            <input id="c-role" type="text" name="Designation" required>
          </div>

          <div class="field">
            <label for="c-county">County</label>
            <input id="c-county" type="text" name="County" required>
          </div>

          <div class="full">
            <label for="c-msg">Message</label>
            <textarea id="c-msg" name="Message" required></textarea>
          </div>

          <div class="send-row full">
            <button type="submit" class="btn btn-primary">Send Message</button>
            <a class="btn btn-quiet" href="https://merl.agnes.africa/home">Login</a>
          </div>
        </form>
      </div>
    </div>

    <footer class="footer">
      <div class="wrap">
        <div class="footline">
          <div>© <span id="year"></span> MERL Tool</div>
          <div>
            <a href="#">Privacy</a><span class="sep">•</span>
            <a href="#">Terms</a><span class="sep">•</span>
            <a href="#contact">Support</a>
          </div>
        </div>
      </div>
    </footer>
  </section>

  <script>
    // Footer year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Make whole project cards clickable (same behavior, new class names)
    document.querySelectorAll('.card').forEach(card => {
      const link = card.querySelector('a.more');
      if (!link) return;

      card.setAttribute('role', 'link');
      card.tabIndex = 0;

      const go = () => window.location.href = link.getAttribute('href');

      card.addEventListener('click', (e) => {
        if (e.target.closest('a,button,input,select,textarea,label')) return;
        go();
      });

      card.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          go();
        }
      });

      link.addEventListener('click', (e) => e.stopPropagation());
    });

    // Project filters
    (function () {
      const form = document.getElementById('merl-filter-form');
      const resetBtn = document.getElementById('merl-reset');
      const cards = Array.from(document.querySelectorAll('#merl-projects .card'));

      function apply() {
        const year = form.year.value;
        const county = form.county.value;
        const sector = form.sector.value;

        cards.forEach(card => {
          const okYear = !year || card.dataset.year === year;
          const okCounty = !county || card.dataset.county === county;
          const okSector = !sector || card.dataset.sector === sector;
          card.style.display = (okYear && okCounty && okSector) ? '' : 'none';
        });
      }

      form.addEventListener('submit', (e) => { e.preventDefault(); apply(); });
      form.addEventListener('change', apply);
      resetBtn.addEventListener('click', () => { form.reset(); apply(); });
    })();
  </script>

</body>
</html>
